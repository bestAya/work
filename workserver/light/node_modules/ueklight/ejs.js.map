{"version":3,"sources":["../../cookie/ejs.js"],"names":["os","require","compile","str","obj","name","age","sex","reg","RegExp","EOL","replace","a","b","c","d","platform","eol","Function","render","data","module","exports"],"mappings":";;AAAA,IAAIA,KAAGC,QAAQ,IAAR,CAAP;AACA,SAASC,OAAT,CAAiBC,GAAjB,EAAsB;AAClB,QAAIC,MAAM,EAACC,MAAM,UAAP,EAAmBC,KAAK,EAAxB,EAA4BC,KAAK,KAAjC,EAAV;AACA,QAAIC,MAAI,IAAIC,MAAJ,CAAWT,GAAGU,GAAd,EAAkB,GAAlB,CAAR;;AAEAP,UAAMA,IAAIQ,OAAJ,CAAY,GAAZ,EAAiB,GAAjB,EAAsBA,OAAtB,CAA8B,oEAA9B,EAAmG,UAASC,CAAT,EAAWC,CAAX,EAAaC,CAAb,EAAeC,CAAf,EAAiB;;AAEtH,YAAIH,IAAEA,KAAG,EAAT;AACA,YAAIC,IAAEA,KAAG,EAAT;AACA,YAAIC,IAAEA,KAAG,EAAT;AACA,YAAIC,IAAEA,KAAG,EAAT;AACA,YAAGf,GAAGgB,QAAH,MAAe,OAAlB,EAA0B;AACtB,gBAAIC,MAAI,QAAR;AACH,SAFD,MAEK;AACD,gBAAIA,MAAI,KAAR;AACH;;AAGD,eAAOJ,EAAEF,OAAF,CAAUH,GAAV,EAAc,EAAd,IAAkB,UAAlB,GAA6BM,EAAEH,OAAF,CAAUH,GAAV,UAAoBS,GAApB,CAA7B,GAAwD,oBAAxD,GAA6EF,EAAEJ,OAAF,CAAUH,GAAV,EAAc,EAAd,CAApF;AAEH,KAfK,CAAN;;AAmBAL,UAAMA,IAAIQ,OAAJ,CAAY,oBAAZ,EAAkC,UAAUC,CAAV,EAAaC,CAAb,EAAgB;AACpD,eAAO,OAAOA,CAAP,GAAW,IAAlB;AACH,KAFK,CAAN;;AAIAV,UAAMA,IAAIQ,OAAJ,CAAY,mBAAZ,EAAiC,UAAUC,CAAV,EAAaC,CAAb,EAAgB;AACnD,eAAO,SAASA,CAAT,GAAa,YAApB;AACH,KAFK,CAAN;;AAKAV,UAAO,MAAMA,GAAN,GAAY,GAAnB;AACA,WAAO,IAAIe,QAAJ,CAAa,KAAb,EAAoB,+BAA+Bf,GAA/B,GAAqC,gBAAzD,CAAP;AACH;;AAED,SAASgB,MAAT,CAAgBhB,GAAhB,EAAoBiB,IAApB,EAAyB;AACtB,WAAOlB,QAAQC,GAAR,EAAaiB,IAAb,CAAP;AACF;;AAEDC,OAAOC,OAAP,GAAeH,MAAf","file":"ejs.js","sourcesContent":["var os=require(\"os\")\nfunction compile(str) {\n    var obj = {name: \"zhansgan\", age: 12, sex: \"man\"};\n    var reg=new RegExp(os.EOL,\"g\");\n    \n    str = str.replace(/'/, '\"').replace(/((?:(?!<script>)[\\s\\S])*)(?:<script>([\\s\\S]*)<\\/script>)*([\\s\\S]*)/,function(a,b,c,d){\n\n        var a=a||\"\";\n        var b=b||\"\";\n        var c=c||\"\";\n        var d=d||\"\";\n        if(os.platform()==\"win32\"){\n            var eol=\"\\\\r\\\\n\"\n        }else{\n            var eol=\"\\\\n\";\n        }\n\n\n        return b.replace(reg,\"\")+\"<script>\"+c.replace(reg,`'+'${eol}`)+\"</script></script>\"+d.replace(reg,\"\");\n\n    });\n\n\n\n    str = str.replace(/<%=(((?!%>).)*)%>/g, function (a, b) {\n        return \"'+\" + b + \"+'\";\n    })\n\n    str = str.replace(/<%(((?!%>).)*)%>/g, function (a, b) {\n        return \"';\\n\" + b + \"\\n tpl+=' \"\n    })\n\n\n    str = (\"'\" + str + \"'\");\n    return new Function(\"obj\", \"var tpl='';with(obj){ tpl=\" + str + \"}\\n return tpl\");\n}\n\nfunction render(str,data){\n   return compile(str)(data)\n}\n\nmodule.exports=render;\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n"]}